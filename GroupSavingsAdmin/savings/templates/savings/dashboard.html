{% extends "base_generic.html" %}

{% block content %}
<h1>Dashboard</h1>

<h2>Your Groups</h2>
<ul>
    {% for group in groups %}
    <li>
        {{ group.name }} - 
        <a href="{% url 'group_detail' group.id %}">View Group Details</a>
    </li>
    {% empty %}
    <li>You are not part of any groups yet.</li>
    {% endfor %}
</ul>

<h2>Your Contributions</h2>
<ul>
    {% for contribution in contributions %}
        <li>{{ contribution.group.name }}: ${{ contribution.amount }} on {{ contribution.date }}</li>
    {% empty %}
        <li>You have not made any contributions yet.</li>
    {% endfor %}
</ul>

<h2>Your Invitations</h2>
<ul>
    {% for invitation in invitations %}
    <li>
        {{ invitation.group.name }} - Invited by {{ invitation.invited_by.username }} 
        <form method="post" action="{% url 'respond_invitation' invitation.id %}">
            {% csrf_token %}
            <button name="action" value="accept">Accept</button>
            <button name="action" value="decline">Decline</button>
        </form>
    </li>
    {% empty %}
    <li>You have no pending invitations.</li>
    {% endfor %}
</ul>
{% endblock %}
